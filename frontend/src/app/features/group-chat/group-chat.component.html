<div class="chatbot-icon" (click)="toggleModal()">
  <span class="btn btn-primary rounded-circle p-2" style="font-size: 18px; cursor: pointer;">
    ðŸ’¬
  </span>
</div>

<div *ngIf="modal" class="modal-container">
  <div *ngIf="!showChat" class="modal-content">
    <div class="modal-header">
      <h2>Create a Team</h2>
      <button class="btn-close" (click)="closeModal()">Ã—</button>
    </div>
    
    <div class="modal-body">
      <button class="btn btn-success w-100" (click)="createTeam()">Create Team</button>
    </div>

    <div class="modal-header mt-4">
      <h2>Join a Team</h2>
    </div>
    <div class="modal-body">
      <input type="text" [(ngModel)]="teamId" class="form-control" placeholder="Enter Team Code" />
      <button class="btn btn-primary w-100 mt-2" (click)="joinTeam()">Join</button>
    </div>
  </div>

  <div *ngIf="showChat" class="modal-content">
    <div class="modal-header">
      <h2>Team Chat ({{ teamId }})</h2>
      <button class="btn-close" (click)="closeModal()">Ã—</button>
    </div>
    <div class="modal-body">
      <div *ngFor="let msg of messages" class="message">
        <strong>{{ msg.sender }}:</strong> {{ msg.text }}
      </div>
    </div>
    <div class="modal-footer">
      <input type="text" [(ngModel)]="message" class="form-control" placeholder="Type a message..." />
      <button class="btn btn-primary w-100 mt-2" (click)="sendGroupMessage()">Send</button>
      <button class="btn btn-danger w-100 mt-2" (click)="leaveGroupMessage()">Leave</button>
    </div>
  </div>
</div>

